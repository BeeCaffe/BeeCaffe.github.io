<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>BeeCaffe&#39;s Personal Blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="BeeCaffe&#39;s Personal Blogs">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="BeeCaffe&#39;s Personal Blogs">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="BeeCaffe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="BeeCaffe&#39;s Personal Blogs" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">BeeCaffe&#39;s Personal Blogs</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Basic-IO-In-Linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Basic-IO-In-Linux/" class="article-date">
  <time datetime="2020-05-15T14:24:34.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Basic-IO-In-Linux/">Basic IO In Linux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="File-IO"><a href="#File-IO" class="headerlink" title="File IO"></a>File IO</h1><h2 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fcnt.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Category"><a href="#Category" class="headerlink" title="Category"></a>Category</h2><hr>
<p><a href="#open">open</a></p>
<p><a href="#creat">creat</a></p>
<p><a href="#close">close</a></p>
<p><a href="#lseek">lseek</a></p>
<p><a href="#read">read</a></p>
<p><a href="#write">write</a></p>
<p><a href="#code">code</a></p>
<h2 id="open"><a href="#open" class="headerlink" title="open"></a>open</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Opens a file and return it's file descriptor</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">open</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* pathname,<span class="keyword">int</span> oflag,...)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">args:</span></span><br><span class="line">    - pathname: file path name</span><br><span class="line">    - oflag:</span><br><span class="line">        - O_RDONLY: read only</span><br><span class="line">        - O_WRONLY: write only</span><br><span class="line">        - RDWR: write <span class="keyword">and</span> read</span><br><span class="line">        - O_APPEND: appends to file end</span><br><span class="line">        - O_CREAT: <span class="keyword">if</span> file <span class="keyword">not</span> exist, creates a <span class="keyword">new</span> one</span><br><span class="line">        - O_EXCL: Test wether a file exist <span class="keyword">or</span> <span class="keyword">not</span>, <span class="keyword">if</span> <span class="keyword">not</span> atomaicly creates a file</span><br><span class="line">        - O_TRUNC: I dont know</span><br><span class="line">        - O_NOCTTY: I dont know</span><br><span class="line">        - O_NONBLOCK: If ptahname is a FIFO <span class="keyword">or</span> a block, <span class="built_in">set</span> the file to a nonblocking status.</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    successed: The file descriptor</span><br><span class="line">    error: <span class="number">-1</span> <span class="keyword">and</span> errno sets to appropriately</span><br></pre></td></tr></table></figure>
<h2 id="creat"><a href="#creat" class="headerlink" title="creat"></a>creat</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//creats a file</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">creat</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* pathname,<span class="keyword">mode_t</span> mode)</span></span>;</span><br><span class="line"></span><br><span class="line">args:</span><br><span class="line">    - pathname: The file pathname</span><br><span class="line">    - mode:</span><br><span class="line">        - O_RDONLY: read only</span><br><span class="line">        - O_WRONLY: write only</span><br><span class="line">        - RDWR: write <span class="keyword">and</span> read</span><br><span class="line">        - O_APPEND: appends to file end</span><br><span class="line">        - O_CREATE: <span class="keyword">if</span> file <span class="keyword">not</span> exist, creates a <span class="keyword">new</span> one</span><br><span class="line">        - O_EXCL: Test wether a file exist <span class="keyword">or</span> <span class="keyword">not</span>, <span class="keyword">if</span> <span class="keyword">not</span> atomaicly creates a file</span><br><span class="line">        - O_TRUNC: I dont know</span><br><span class="line">        - O_NOCTTY: I dont know</span><br><span class="line">        - O_NONBLOCK: If ptahname is a FIFO <span class="keyword">or</span> a block, <span class="built_in">set</span> the file to a nonblocking status.</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    successed: The file descriptor</span><br><span class="line">    error: <span class="number">-1</span> <span class="keyword">and</span> errno sets to appropriately.</span><br></pre></td></tr></table></figure>
<h2 id="close"><a href="#close" class="headerlink" title="close"></a>close</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//close a file</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">close</span><span class="params">(<span class="keyword">int</span> fildes)</span></span>;</span><br><span class="line"></span><br><span class="line">args:</span><br><span class="line">    - fildes: The file descriptor</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    - successed: <span class="number">0</span></span><br><span class="line">    - error: <span class="number">-1</span> <span class="keyword">and</span> errno sets to appropriately.</span><br></pre></td></tr></table></figure>
<h2 id="lseek"><a href="#lseek" class="headerlink" title="lseek"></a>lseek</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">off_t</span> <span class="title">lseek</span><span class="params">(<span class="keyword">int</span> fildes,<span class="keyword">off_t</span> offset,<span class="keyword">int</span> whence)</span></span>;</span><br><span class="line"></span><br><span class="line">args:</span><br><span class="line">    - fildes: The file descriptor.</span><br><span class="line">    - offset: The offset.</span><br><span class="line">    - whence:</span><br><span class="line">        -SEEK_SET: The distance between file begin <span class="keyword">and</span> offset.</span><br><span class="line">        -SEEK_END: Set the offset to file end add offset.</span><br><span class="line">        -SEEK_CUR: Set the offset to current value add offset.</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    successed: The <span class="keyword">new</span> location of file.</span><br><span class="line">    error: <span class="number">-1</span> <span class="keyword">and</span> errno sets to appropriately.</span><br></pre></td></tr></table></figure>
<h2 id="read"><a href="#read" class="headerlink" title="read"></a>read</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">ssize_t</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> fildes, <span class="keyword">void</span>* buff, <span class="keyword">size_t</span> nbytes)</span></span>;</span><br><span class="line"></span><br><span class="line">args:</span><br><span class="line">    - fildes: The file descriptor</span><br><span class="line">    - buff: The buffer to store data</span><br><span class="line">    - nbytes: Read how many bytes.</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    successed:</span><br><span class="line">        - meets EOF: <span class="number">0</span></span><br><span class="line">        - The bytes of read.</span><br><span class="line">    error: <span class="number">-1</span> <span class="keyword">and</span> errno sets to appropriately.</span><br></pre></td></tr></table></figure>
<h2 id="write"><a href="#write" class="headerlink" title="write"></a>write</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">ssize_t</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> fildes,<span class="keyword">const</span> <span class="keyword">void</span> *buff, <span class="keyword">size_t</span> nbytes)</span></span>;</span><br><span class="line"></span><br><span class="line">args:</span><br><span class="line">    - fildes: The file descriptor</span><br><span class="line">    - buff: The write buffer</span><br><span class="line">    - nbytes: How many bytes to write</span><br><span class="line"><span class="keyword">return</span>:</span><br><span class="line">    successed: The bytes of write</span><br><span class="line">    error: <span class="number">-1</span> <span class="keyword">and</span> errno sets appropriately</span><br></pre></td></tr></table></figure>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//package your own io functions</span></span><br><span class="line"><span class="comment">//io.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BEE_IO_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BEE_IO_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"utils.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"macro.h"</span></span></span><br><span class="line"><span class="keyword">namespace</span> bee&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@brief: opens a file, if not exist creats it.</span></span><br><span class="line"><span class="comment"> *@param[in] pathname: the file pathname</span></span><br><span class="line"><span class="comment"> *@param[in] ofalgs: The file open mode, default by creat and write and read.</span></span><br><span class="line"><span class="comment"> *@reurn: The file descriptor.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Open</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; pathname,<span class="keyword">int</span> oflags=<span class="number">0</span>,<span class="keyword">mode_t</span> mode=<span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@brief: creats a file.</span></span><br><span class="line"><span class="comment"> *@param[in] pathname: the file pathname</span></span><br><span class="line"><span class="comment"> *@param[in] ofalgs: The file open mode, default by creat and write and read.</span></span><br><span class="line"><span class="comment"> *@return: The file descriptor.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Creat</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; pathname, <span class="keyword">mode_t</span> mode=O_CREAT|O_RDWR)</span></span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@brief: close a file.</span></span><br><span class="line"><span class="comment"> *@param[in] fd: the file descriptor</span></span><br><span class="line"><span class="comment"> *@return: NULL.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Close</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Lseek</span><span class="params">(<span class="keyword">int</span> fd,<span class="keyword">off_t</span> offset,<span class="keyword">int</span> whence=SEEK_SET)</span></span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@brief: read a file.</span></span><br><span class="line"><span class="comment"> *@param[in] fd: the file descriptor</span></span><br><span class="line"><span class="comment"> *@return: The file contains string..</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@brief: write a file.</span></span><br><span class="line"><span class="comment"> *@param[in] fd: the file descriptor</span></span><br><span class="line"><span class="comment"> *@param[in] buffer: The string to write</span></span><br><span class="line"><span class="comment"> *@return: NULL.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">int</span> fd,<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; buffer)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//packages your own io functions</span></span><br><span class="line"><span class="comment">//io.cc</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"io.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">namespace</span> bee&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUFF_SIZE 8192</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Open</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; pathname,<span class="keyword">int</span> oflags,<span class="keyword">mode_t</span> mode)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fd;</span><br><span class="line">    <span class="keyword">if</span>(access(pathname.c_str(),F_OK)!=<span class="number">0</span>)&#123;</span><br><span class="line">        fd=open(pathname.c_str(),O_CREAT|O_RDWR|O_TRUNC,<span class="number">0777</span>);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;<span class="string">"creats a new file in: "</span>&lt;&lt;pathname&lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(oflags==<span class="number">0</span> &amp;&amp; mode==<span class="number">0</span>)&#123;</span><br><span class="line">        fd=open(pathname.c_str(),O_RDWR|O_APPEND);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        fd=open(pathname.c_str(),oflags,mode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fd==<span class="number">-1</span>)&#123;</span><br><span class="line">        ASSERT_DESC(<span class="literal">false</span>,<span class="string">"open file error!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Creat</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; pathname, <span class="keyword">mode_t</span> mode)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fd=creat(pathname.c_str(),mode);</span><br><span class="line">    <span class="keyword">if</span>(fd==<span class="number">-1</span>)&#123;</span><br><span class="line">        ASSERT_DESC(<span class="literal">false</span>,<span class="string">"creat file error!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Close</span><span class="params">(<span class="keyword">int</span> fd)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(close(fd)==<span class="number">-1</span>)&#123;</span><br><span class="line">        ASSERT_DESC(<span class="literal">false</span>,<span class="string">"close file error!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Lseek</span><span class="params">(<span class="keyword">int</span> fd,<span class="keyword">off_t</span> offset,<span class="keyword">int</span> whence)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">Read</span><span class="params">(<span class="keyword">int</span> fd)</span></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str=<span class="string">""</span>;</span><br><span class="line">   <span class="keyword">int</span> n=<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">char</span> buf[BUFF_SIZE];</span><br><span class="line">   lseek(fd,<span class="number">0</span>,SEEK_SET);</span><br><span class="line">   <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        n=read(fd,buf,BUFF_SIZE);</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span>)&#123;</span><br><span class="line">            ASSERT_DESC(<span class="literal">false</span>,<span class="string">"read file error!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">tmp</span><span class="params">(buf)</span></span>;</span><br><span class="line">        str.append(tmp);</span><br><span class="line">        bzero(buf,BUFF_SIZE);</span><br><span class="line">   &#125;</span><br><span class="line">   lseek(fd,<span class="number">0</span>,SEEK_END);</span><br><span class="line">   <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Write</span><span class="params">(<span class="keyword">int</span> fd,<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; buffer)</span></span>&#123;</span><br><span class="line">    <span class="comment">//char buf[]="";</span></span><br><span class="line">    <span class="keyword">int</span> len=buffer.size();</span><br><span class="line">    <span class="comment">//strncpy(buf,buffer.c_str(),len+1);</span></span><br><span class="line">    <span class="keyword">if</span>(write(fd,buffer.c_str(),len)!=len)&#123;</span><br><span class="line">        ASSERT_DESC(<span class="literal">false</span>,<span class="string">"write file error!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Basic-IO-In-Linux/" data-id="cka8b3cie0000okv6cml82a2f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-DFS-Of-Graph" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/DFS-Of-Graph/" class="article-date">
  <time datetime="2020-05-15T14:22:42.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/DFS-Of-Graph/">DFS Of Graph</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Conception"><a href="#Conception" class="headerlink" title="Conception"></a>Conception</h2><p>Depth First Search, called DFS, which is one of graphics traversing or searching methods. The basic idea is exploreing as far as possible along each branch from any start node. DFS algorithm can be implementted recurrently, after a node is visited, it’s visit flag should be setted as true. if the current node has no other un-traveled adjacent nodes, it should return, and find another un-traveled branch.</p>
<p>There are two types of grapics storage structures – adjacent matrix storage and adjacency list storage. In this blog, we take adjacent matrix as the storage structure of graphics.</p>
<p>There is a simple implementation of DFS as follows:</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><pre><code>#include&lt;iostream&gt;
#include&lt;vector&gt;
using namespace std;
////DFS
////using adjacent matrix storage
class Graph{
    private:
        ////vertices 
        vector&lt;string&gt; m_vex;
        ////arcs
        vector&lt;vector&lt;int&gt;&gt; m_arcs;
        ////is visited flag
        vector&lt;bool&gt; m_flags;
        ////vertex number
        int m_vexnum;

    public:

        //// constructor
        Graph(vector&lt;string&gt; vex){
            m_vex=vex;
            m_vexnum=vex.size();
            m_arcs=vector&lt;vector&lt;int&gt;&gt;(m_vexnum,vector&lt;int&gt;(m_vexnum,0));
            m_flags=vector&lt;bool&gt;(m_vexnum,false);
        }

        ////add edge
        void addEdge(int i,int j){
            if(i&lt;0||i&gt;=m_vexnum) throw &quot;index bound exceed&quot;;
            if(j&lt;0||j&gt;=m_vexnum) throw &quot;index bound exxceed&quot;;
            m_arcs[i][j]=1;
            m_arcs[j][i]=1;
        }

        void visit(int i){
            if(i&lt;0||i&gt;=m_vexnum) throw &quot;index bound exceed&quot;;
            cout&lt;&lt;m_vex[i]&lt;&lt;&quot; &quot;;
        } 

        ////traverse
        void traverse(int i){
            if(i&lt;0||i&gt;=m_vexnum) throw &quot;index bound exceed&quot;;
            visit(i);
            for(int j=0;j&lt;m_vexnum;++j){
                if(m_arc[i][j]==1&amp;&amp;m_flags[j]==false) traverse(j);
            }
        }

        ////dfs
        void dfs(){
            for(int i=0;i&lt;m_vexnum;++i){
                if(m_flags[i]==false) traverse(i);
            }
        }   
};

int main(){
    vector&lt;string&gt; vex={&quot;node1&quot;,&quot;node2&quot;,&quot;node3&quot;,&quot;node4&quot;,&quot;node5&quot;,&quot;node6&quot;};
    Graph g(vex);
    g.addEdge(0,1);
    g.addEdge(0,4);
    g.addEdge(0,2);
    g.addEdge(2,3);
    g.addEdge(4,5);
    g.dfs();
    return 0;
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/DFS-Of-Graph/" data-id="cka8b3ciw000dokv67yqrhln1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BFS-Of-Graph" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/BFS-Of-Graph/" class="article-date">
  <time datetime="2020-05-15T14:21:49.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/BFS-Of-Graph/">BFS Of Graph</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Conception"><a href="#Conception" class="headerlink" title="Conception"></a>Conception</h2><p>Breath First Search, called BFS, which is one of graphics traversing or searching methods. The basic idea is exploreing as borad as possible of one node from any start node. BFS algorithm can be implementted by a queue, like the level traverse of tree.First of all, we push a node into queue as the start tarverse node of graph, when queue is not empty. We pop each node in queue, access it and find all the neiborhood node of current node, then push them into queue, until queue is empty. after a node is visited, it’s visit flag should be setted as true. </p>
<p>There are two types of grapics storage structures – adjacent matrix storage and adjacency list storage. In this blog, we take adjacent matrix as the storage structure of graphics.</p>
<p>There is a simple implementation of BFS as follows:</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a><strong>Code</strong></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">////DFS</span></span><br><span class="line"><span class="comment">////using adjacent matrix storage</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">////vertices </span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; m_vex;</span><br><span class="line">    <span class="comment">////arcs</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_arcs;</span><br><span class="line">    <span class="comment">////is visited flag</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; m_flags;</span><br><span class="line">    <span class="comment">////vertex number</span></span><br><span class="line">    <span class="keyword">int</span> m_vexnum;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//// constructor</span></span><br><span class="line">    Graph(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vex)&#123;</span><br><span class="line">        m_vex=vex;</span><br><span class="line">        m_vexnum=vex.size();</span><br><span class="line">        m_arcs=<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(m_vexnum,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m_vexnum,<span class="number">0</span>));</span><br><span class="line">        m_flags=<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(m_vexnum,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">////add edge</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;=m_vexnum) <span class="keyword">throw</span> <span class="string">"index bound exceed"</span>;</span><br><span class="line">        <span class="keyword">if</span>(j&lt;<span class="number">0</span>||j&gt;=m_vexnum) <span class="keyword">throw</span> <span class="string">"index bound exxceed"</span>;</span><br><span class="line">        m_arcs[i][j]=<span class="number">1</span>;</span><br><span class="line">        m_arcs[j][i]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;=m_vexnum) <span class="keyword">throw</span> <span class="string">"index bound exceed"</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">////traverse</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexnum;++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!m_flags[i])&#123;</span><br><span class="line">                <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line">                Q.push(i);</span><br><span class="line">                <span class="keyword">while</span>(!Q.empty())&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> j=Q.size()<span class="number">-1</span>;j&gt;=<span class="number">0</span>;--j)&#123;</span><br><span class="line">                        <span class="keyword">int</span> cur=Q.top();Q.pop();</span><br><span class="line">                        visit(cur);</span><br><span class="line">                        m_flags[cur]=<span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;m_vecnum;++k)&#123;</span><br><span class="line">                         <span class="keyword">if</span>(!m_flags[k]&amp;&amp;m_arcs[j][k]) Q.push(k);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; vex=&#123;<span class="string">"node1"</span>,<span class="string">"node2"</span>,<span class="string">"node3"</span>,<span class="string">"node4"</span>,<span class="string">"node5"</span>,<span class="string">"node6"</span>&#125;;</span><br><span class="line"><span class="function">Graph <span class="title">g</span><span class="params">(vex)</span></span>;</span><br><span class="line">g.addEdge(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>,<span class="number">4</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">g.addEdge(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">g.addEdge(<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">g.bfs();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/BFS-Of-Graph/" data-id="cka8b3cir0003okv6dfwv9zig" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Floyd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Floyd/" class="article-date">
  <time datetime="2020-05-15T14:20:49.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Floyd/">Floyd</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Conception"><a href="#Conception" class="headerlink" title="Conception"></a>Conception</h2><p>The basic idea of floyd algorithm is very simple, which is based on dynamic programming. If we are going to get the shortest path between vertex i and vertex j, we can get a vertex k as the transfer station, if the path i-&gt;k-&gt;j is shortter than i-&gt;j, update the shortest path of i-&gt;j as i-&gt;k-&gt;j. Meanwhile, we require another matrix to record the path, the path[i][j] is initialized as path[i][j]=i, which means, the shortest path is from i to j. And, if we find a shortter transfer station k, then the path[i][j]=path[k][j].</p>
<h2 id="graph"><a href="#graph" class="headerlink" title="graph"></a>graph</h2><p><img src="https://upload-images.jianshu.io/upload_images/13348038-94dd3a728fb581f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Graph(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;s):m_vex(s),m_arcs(s.size(),<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(s.size(),INF)),m_falgs(s.size()),m_vexNum(s.size())&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;m_vexNum||i&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(j&gt;m_vexNum||j&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">            m_arcs[i][j]=<span class="number">0</span>;</span><br><span class="line">            m_arcs[j][i]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        m_arcs[i][j]=weight;</span><br><span class="line">        m_arcs[j][i]=weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">paths</span><span class="params">(m_vexNum,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m_vexNum,<span class="number">0</span>))</span></span>;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">shortPaths</span><span class="params">(m_arcs)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                paths[i][j]=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;m_vexNum;++k)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(shortPaths[i][j]&gt;shortPaths[i][k]+shortPaths[k][j])&#123;</span><br><span class="line">                        shortPaths[i][j]=shortPaths[i][k]+shortPaths[k][j];</span><br><span class="line">                        paths[i][j]=paths[k][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        m_paths=paths;</span><br><span class="line">        m_shorts=shortPaths;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showPath</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m_paths.size()!=m_vexNum||m_paths[<span class="number">0</span>].size()!=m_vexNum)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"[error] have not get shortest path"</span>;</span><br><span class="line">            assert(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m_paths[i][j]==i)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[m_paths[i][j]]&lt;&lt;<span class="string">"-&gt;"</span>;</span><br><span class="line">            showPath(m_paths[i][j],j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showAllPaths</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j]&lt;&lt;<span class="string">" "</span>&lt;&lt;m_shorts[i][j]&lt;&lt;<span class="string">" shortest path is: "</span>;</span><br><span class="line">                showPath(i,j);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_arcs;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; m_vex;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; m_falgs;</span><br><span class="line">    <span class="keyword">int</span> m_vexNum;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_paths;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_shorts;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; nodes=&#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>&#125;;</span><br><span class="line">    <span class="function">Graph <span class="title">g</span><span class="params">(nodes)</span></span>;</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">5</span>,<span class="number">16</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">6</span>,<span class="number">14</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line">    g.addEdge(<span class="number">6</span>,<span class="number">4</span>,<span class="number">8</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">    g.addEdge(<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    g.floyd();</span><br><span class="line">    g.showAllPaths();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>result:</p>
<p><img src="https://upload-images.jianshu.io/upload_images/13348038-35ea8f98e47273d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Floyd/" data-id="cka8b3cin0001okv6eqnrdbpp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Dijkstra" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Dijkstra/" class="article-date">
  <time datetime="2020-05-15T04:20:11.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Dijkstra/">Dijkstra</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Conception"><a href="#Conception" class="headerlink" title="Conception"></a>Conception</h1><p>Dijkstra is a single source shortest path algorithm, which is able to find the shorest path of two node in a graph in O(n2) time complexity. The basic idea is to maintain two set. One set, called visited set  , contains the node of which the shortest path form source node to this is found. The nodes in another set, called unvisited set, are not found. For each time, we try find the shorest node in set two and update the distance of set 1 nodes until reaching the distination.</p>
<h1 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h1><p><img src="images/1.png" alt=""></p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Graph(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;s):m_vex(s),m_arcs(s.size(),<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(s.size(),INF)),m_falgs(s.size()),m_vexNum(s.size())&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;m_vexNum||i&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(j&gt;m_vexNum||j&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">            m_arcs[i][j]=<span class="number">0</span>;</span><br><span class="line">            m_arcs[j][i]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        m_arcs[i][j]=weight;</span><br><span class="line">        m_arcs[j][i]=weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">/* initializes shorest paths from i to j*/</span></span><br><span class="line">        <span class="keyword">if</span>(m_paths.empty())&#123;</span><br><span class="line">            m_paths=<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(m_vexNum,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m_vexNum,<span class="number">0</span>));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                    m_paths[i][j]=i;        <span class="comment">//by default we regrad the shortest path is i-&gt;j directly</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m_shorts.empty()) m_shorts=m_arcs;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; <span class="title">visited</span><span class="params">(m_vexNum,<span class="number">0</span>)</span></span>;   <span class="comment">//record visited nodes and unvisited nodes.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> start=i;                        <span class="comment">//i is start node</span></span><br><span class="line">        visited[start]=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">/*except for node i, we must find m_vexNum-1 nodes'shortest path in total*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> count=<span class="number">0</span>;count&lt;m_vexNum<span class="number">-1</span>;++count)&#123;</span><br><span class="line">            <span class="keyword">int</span> min_dist=INT_MAX;</span><br><span class="line">            <span class="keyword">int</span> cur=i;</span><br><span class="line">            <span class="comment">//find the smallest path of start-&gt;j, where j belongs to unvisited set.</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[j]&amp;&amp;m_shorts[start][j]&lt;min_dist)&#123;</span><br><span class="line">                    min_dist=m_shorts[start][j];</span><br><span class="line">                    cur=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//update the shortest path in visited set.</span></span><br><span class="line">            visited[cur]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[j]&amp;&amp;m_shorts[start][j]&gt;m_shorts[start][cur]+m_shorts[cur][j])&#123;</span><br><span class="line">                    m_shorts[start][j]=m_shorts[start][cur]+m_shorts[cur][j];</span><br><span class="line">                    m_paths[start][j]=cur;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dijkstraAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            dijkstra(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showPath</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(j&lt;<span class="number">0</span>||j&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(m_paths.size()!=m_vexNum||m_paths[<span class="number">0</span>].size()!=m_vexNum)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"[error] have not get shortest path"</span>;</span><br><span class="line">            assert(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m_paths[i][j]==i)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[m_paths[i][j]]&lt;&lt;<span class="string">"-&gt;"</span>;</span><br><span class="line">            showPath(m_paths[i][j],j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showAllPaths</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j]&lt;&lt;<span class="string">" "</span>&lt;&lt;m_shorts[i][j]&lt;&lt;<span class="string">" shortest path is: "</span>;</span><br><span class="line">                showPath(i,j);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_arcs;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; m_vex;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; m_falgs;</span><br><span class="line">    <span class="keyword">int</span> m_vexNum;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_paths;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_shorts;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; nodes=&#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>&#125;;</span><br><span class="line">    <span class="function">Graph <span class="title">g</span><span class="params">(nodes)</span></span>;</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">5</span>,<span class="number">16</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">6</span>,<span class="number">14</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line">    g.addEdge(<span class="number">6</span>,<span class="number">4</span>,<span class="number">8</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">    g.addEdge(<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    g.dijkstraAll();</span><br><span class="line">    g.showAllPaths();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>result</p>
<p><img src="https://upload-images.jianshu.io/upload_images/13348038-6d01f1034ce622f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Dijkstra/" data-id="cka7pna3m0000nwv6dfzg9bdz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Insertion-Sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Insertion-Sort/" class="article-date">
  <time datetime="2020-05-15T04:13:11.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Insertion-Sort/">Insertion Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Insertion  sort is an effective algorithm for a small amount of elements, the working pricinple of this algorithm like sort the playing cards. Supposing we hold cards in our left hands, and then we use the right hands to choose a  card to find the right location in the cards for every card. This processing we called insertion sort, the actually steps of insertion sort is as following:<br>(1) traversing each elements from 1 to n-1, suppose is j and set key=nums[j];<br>(2) traversing elements from [0,j] and finding the correct position of insertion, suppose is i;<br>(3) if nums[i]&lt;key, we should move nums[i] backward;</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">&#x2F;&#x2F;ascending</span><br><span class="line">void insert_sort(vector&lt;int&gt; &amp;nums)&#123;</span><br><span class="line">    int i,j,key;</span><br><span class="line">    for(j&#x3D;1;j&lt;nums.size();++j)&#123;</span><br><span class="line">        key&#x3D;nums[j];</span><br><span class="line">        i&#x3D;j-1;</span><br><span class="line">        while(i&gt;&#x3D;0 &amp;&amp; nums[i]&gt;key)&#123;</span><br><span class="line">            nums[i+1] &#x3D; nums[i];</span><br><span class="line">            --i;</span><br><span class="line">        &#125;</span><br><span class="line">        nums[i+1]&#x3D;key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;descending</span><br><span class="line">void insert_sort2(vector&lt;int&gt; &amp;nums)&#123;</span><br><span class="line">    int i,j,key;</span><br><span class="line">    for(i&#x3D;1;i&lt;nums.size();++i)&#123;</span><br><span class="line">        key&#x3D;nums[i];</span><br><span class="line">        j&#x3D;i-1;</span><br><span class="line">        while(j&gt;&#x3D;0 &amp;&amp; nums[j]&lt;key)&#123;</span><br><span class="line">            nums[j+1] &#x3D; nums[j];</span><br><span class="line">            --j;</span><br><span class="line">        &#125;</span><br><span class="line">        nums[j+1]&#x3D;key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc,char** argv)&#123;</span><br><span class="line">    vector&lt;int&gt; nums&#x3D;&#123;2,1,3,5,3,7,9,8&#125;;</span><br><span class="line">    insert_sort(nums);</span><br><span class="line">    insert_sort2(nums);</span><br><span class="line">    for(auto i:nums) cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Insertion-Sort/" data-id="cka7ot5g60003pkv62a9vbv43" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Selection-Sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Selection-Sort/" class="article-date">
  <time datetime="2020-05-15T04:12:26.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Selection-Sort/">Selection Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Supposing we have a unordered array nums. Firstly, we swap the minmum element in nums to nums[0].Then, swaping to sub-minmum element in nums to nums[1] …, the rest can do the same manner, until we find the last elemnts. This algorithm is so-called selection sort, because for each time we choose the minimum element in the rest array, and swap it to the front element.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">void choose_sort(vector&lt;int&gt; &amp;nums)&#123;</span><br><span class="line">    int min_&#x3D;0,idx&#x3D;0;</span><br><span class="line">    for(int i&#x3D;0;i&lt;nums.size()-1;++i)&#123;</span><br><span class="line">        min_&#x3D;nums[i];idx&#x3D;i;</span><br><span class="line">        for(int j&#x3D;i+1;j&lt;nums.size();++j)&#123;</span><br><span class="line">            if(min_&gt;nums[j])&#123;</span><br><span class="line">                min_&#x3D;nums[j];</span><br><span class="line">                idx&#x3D;j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        nums[idx]&#x3D;nums[i];</span><br><span class="line">        nums[i]&#x3D;min_;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    vector&lt;int&gt; nums&#x3D;&#123;3,1,2,4,6,7,9,8&#125;;</span><br><span class="line">    choose_sort(nums);</span><br><span class="line">    for(auto i:nums) cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Selection-Sort/" data-id="cka7ot5g80005pkv6dwp638nd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Merge-Sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Merge-Sort/" class="article-date">
  <time datetime="2020-05-15T04:11:31.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Merge-Sort/">Merge Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Based on the idea of divide and conquer, merge sort divides the unordered array with length of n as two sub-array of which length is n/2 until the length of array is 1. As we all know, the array with length 1 is an ordered sequence. Then, meger two sorted sub-array we can get the result.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">void merge(vector&lt;int&gt; &amp;nums,int left,int mid,int right)&#123;</span><br><span class="line">    vector&lt;int&gt; arr;</span><br><span class="line">    int p1&#x3D;left,p2&#x3D;mid+1;</span><br><span class="line">    while(p1&lt;&#x3D;mid &amp;&amp; p2&lt;&#x3D;right)&#123;</span><br><span class="line">        if(nums[p1]&lt;nums[p2])&#123;</span><br><span class="line">            arr.push_back(nums[p1++]);</span><br><span class="line">        &#125;else arr.push_back(nums[p2++]);</span><br><span class="line">    &#125;</span><br><span class="line">    while(p1&lt;&#x3D;mid) arr.push_back(nums[p1++]);</span><br><span class="line">    while(p2&lt;&#x3D;right) arr.push_back(nums[p2++]);</span><br><span class="line">    int j&#x3D;left;</span><br><span class="line">    for(int i&#x3D;0;i&lt;arr.size();++i)&#123;</span><br><span class="line">        nums[j++]&#x3D;arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void merge_sort(vector&lt;int&gt; &amp;nums,int left,int right)&#123;</span><br><span class="line">    if(left&gt;&#x3D;right) return;</span><br><span class="line">    int mid&#x3D;left + (right-left)&#x2F;2;</span><br><span class="line">    merge_sort(nums,left,mid);</span><br><span class="line">    merge_sort(nums,mid+1,right);</span><br><span class="line">    merge(nums,left,mid,right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    vector&lt;int&gt; nums&#x3D;&#123;1,2,5,6,7,4,3,9,8&#125;;</span><br><span class="line">    merge_sort(nums,0,nums.size()-1);</span><br><span class="line">    for(auto i:nums) cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Merge-Sort/" data-id="cka7ot5g30001pkv6h3hu4a5m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Bubble-Sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Bubble-Sort/" class="article-date">
  <time datetime="2020-05-15T04:09:28.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Bubble-Sort/">Bubble Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">void swap(int &amp;a,int &amp;b)&#123;</span><br><span class="line">    int tmp&#x3D;a;</span><br><span class="line">    a&#x3D;b;</span><br><span class="line">    b&#x3D;tmp;</span><br><span class="line">&#125;</span><br><span class="line">void bubble_sort(vector&lt;int&gt; &amp;nums)&#123;</span><br><span class="line">    int n&#x3D;nums.size();</span><br><span class="line">    for(int i&#x3D;0;i&lt;n-1;++i)&#123;</span><br><span class="line">        for(int j&#x3D;1;j&lt;n-i-1;++j)&#123;</span><br><span class="line">            if(nums[j-1]&gt;nums[j]) swap(nums[j-1],nums[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">    vector&lt;int&gt; nums&#x3D;&#123;2,1,3,6,5,4,7,8,9&#125;;</span><br><span class="line">    bubble_sort(nums);</span><br><span class="line">    for(auto i:nums) cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Bubble-Sort/" data-id="cka7ot5fy0000pkv6f4gn988k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Reverse-Pairs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Reverse-Pairs/" class="article-date">
  <time datetime="2020-05-15T04:08:22.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/15/Reverse-Pairs/">Reverse Pairs</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int ans&#x3D;0;</span><br><span class="line">void merge(vector&lt;int&gt; &amp;nums,int left,int mid,int right)&#123;</span><br><span class="line">    int p1&#x3D;left,p2&#x3D;mid+1;</span><br><span class="line">    vector&lt;int&gt; tmp;</span><br><span class="line">    while(p1&lt;&#x3D;mid &amp;&amp; p2&lt;&#x3D;right)&#123;</span><br><span class="line">        if(nums[p1]&lt;&#x3D;nums[p2])&#123;</span><br><span class="line">            tmp.push_back(nums[p1++]);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            tmp.push_back(nums[p2++]);</span><br><span class="line">            ans+&#x3D;mid-p1+1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    while(p1&lt;&#x3D;mid) tmp.push_back(nums[p1++]);</span><br><span class="line">    while(p2&lt;&#x3D;right) tmp.push_back(nums[p2++]);</span><br><span class="line">    int j&#x3D;0;</span><br><span class="line">    for(int i&#x3D;left;i&lt;&#x3D;right;++i)&#123;</span><br><span class="line">        nums[i]&#x3D;tmp[j++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">void merge_sort(vector&lt;int&gt; &amp;nums,int left,int right)&#123;</span><br><span class="line">    if(left&#x3D;&#x3D;right) return;</span><br><span class="line">    int mid&#x3D;left+(right-left)&#x2F;2;</span><br><span class="line">    merge_sort(nums,left,mid);</span><br><span class="line">    merge_sort(nums,mid+1,right);</span><br><span class="line">    merge(nums,left,mid,right);</span><br><span class="line">&#125;</span><br><span class="line">int reversePairs(vector&lt;int&gt; &amp;nums)&#123;</span><br><span class="line">    int n&#x3D;nums.size();</span><br><span class="line">    if(n&lt;2) return 0;</span><br><span class="line">    merge_sort(nums,0,n-1);</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">    vector&lt;int&gt; nums&#x3D;&#123;2,1,4,5,3,7,9,8&#125;;</span><br><span class="line">    cout&lt;&lt;reversePairs(nums)&lt;&lt;endl;</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Reverse-Pairs/" data-id="cka7ot5g60004pkv68zgf0t63" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cracking-the-Coding-Interview/" rel="tag">Cracking the Coding Interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/Cracking-the-Coding-Interview/" style="font-size: 10px;">Cracking the Coding Interview</a> <a href="/tags/Data-Structure/" style="font-size: 15px;">Data Structure</a> <a href="/tags/Introduce-To-Algorithm/" style="font-size: 20px;">Introduce To Algorithm</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/30/Radix-Sort/">Radix Sort</a>
          </li>
        
          <li>
            <a href="/2020/05/30/Letters-and-Numbers/">17.05 Letters and Numbers</a>
          </li>
        
          <li>
            <a href="/2020/05/28/Count-Sort/">Count Sort</a>
          </li>
        
          <li>
            <a href="/2020/05/27/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1IPC/">进程间通信IPC</a>
          </li>
        
          <li>
            <a href="/2020/05/26/Quick-Sort/">Quick Sort</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 BeeCaffe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>