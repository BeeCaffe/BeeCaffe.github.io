<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Dijkstra | BeeCaffe&#39;s Personal Blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="DijkstraConceptionDijkstra is a single source shortest path algorithm, which is able to find the shorest path of two node in a graph in O(n2) time complexity. The basic idea is to maintain two set. On">
<meta property="og:type" content="article">
<meta property="og:title" content="Dijkstra">
<meta property="og:url" content="http://yoursite.com/2020/05/15/Dijkstra/index.html">
<meta property="og:site_name" content="BeeCaffe&#39;s Personal Blogs">
<meta property="og:description" content="DijkstraConceptionDijkstra is a single source shortest path algorithm, which is able to find the shorest path of two node in a graph in O(n2) time complexity. The basic idea is to maintain two set. On">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/2020/05/15/Dijkstra/images/1.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/13348038-6d01f1034ce622f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="article:published_time" content="2020-05-15T04:20:11.000Z">
<meta property="article:modified_time" content="2020-05-15T04:26:18.101Z">
<meta property="article:author" content="BeeCaffe">
<meta property="article:tag" content="Data Structure">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/05/15/Dijkstra/images/1.png">
  
    <link rel="alternate" href="/atom.xml" title="BeeCaffe&#39;s Personal Blogs" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">BeeCaffe&#39;s Personal Blogs</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Dijkstra" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/15/Dijkstra/" class="article-date">
  <time datetime="2020-05-15T04:20:11.000Z" itemprop="datePublished">2020-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Dijkstra
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h1><h1 id="Conception"><a href="#Conception" class="headerlink" title="Conception"></a>Conception</h1><p>Dijkstra is a single source shortest path algorithm, which is able to find the shorest path of two node in a graph in O(n2) time complexity. The basic idea is to maintain two set. One set, called visited set  , contains the node of which the shortest path form source node to this is found. The nodes in another set, called unvisited set, are not found. For each time, we try find the shorest node in set two and update the distance of set 1 nodes until reaching the distination.</p>
<h1 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h1><p><img src="images/1.png" alt=""></p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Graph(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;s):m_vex(s),m_arcs(s.size(),<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(s.size(),INF)),m_falgs(s.size()),m_vexNum(s.size())&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;m_vexNum||i&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(j&gt;m_vexNum||j&lt;<span class="number">0</span>) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">            m_arcs[i][j]=<span class="number">0</span>;</span><br><span class="line">            m_arcs[j][i]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        m_arcs[i][j]=weight;</span><br><span class="line">        m_arcs[j][i]=weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">/* initializes shorest paths from i to j*/</span></span><br><span class="line">        <span class="keyword">if</span>(m_paths.empty())&#123;</span><br><span class="line">            m_paths=<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;(m_vexNum,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m_vexNum,<span class="number">0</span>));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                    m_paths[i][j]=i;        <span class="comment">//by default we regrad the shortest path is i-&gt;j directly</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m_shorts.empty()) m_shorts=m_arcs;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; <span class="title">visited</span><span class="params">(m_vexNum,<span class="number">0</span>)</span></span>;   <span class="comment">//record visited nodes and unvisited nodes.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> start=i;                        <span class="comment">//i is start node</span></span><br><span class="line">        visited[start]=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">/*except for node i, we must find m_vexNum-1 nodes'shortest path in total*/</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> count=<span class="number">0</span>;count&lt;m_vexNum<span class="number">-1</span>;++count)&#123;</span><br><span class="line">            <span class="keyword">int</span> min_dist=INT_MAX;</span><br><span class="line">            <span class="keyword">int</span> cur=i;</span><br><span class="line">            <span class="comment">//find the smallest path of start-&gt;j, where j belongs to unvisited set.</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[j]&amp;&amp;m_shorts[start][j]&lt;min_dist)&#123;</span><br><span class="line">                    min_dist=m_shorts[start][j];</span><br><span class="line">                    cur=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//update the shortest path in visited set.</span></span><br><span class="line">            visited[cur]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!visited[j]&amp;&amp;m_shorts[start][j]&gt;m_shorts[start][cur]+m_shorts[cur][j])&#123;</span><br><span class="line">                    m_shorts[start][j]=m_shorts[start][cur]+m_shorts[cur][j];</span><br><span class="line">                    m_paths[start][j]=cur;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dijkstraAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            dijkstra(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showPath</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>||i&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(j&lt;<span class="number">0</span>||j&gt;m_vexNum) assert(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(m_paths.size()!=m_vexNum||m_paths[<span class="number">0</span>].size()!=m_vexNum)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"[error] have not get shortest path"</span>;</span><br><span class="line">            assert(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m_paths[i][j]==i)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;m_vex[m_paths[i][j]]&lt;&lt;<span class="string">"-&gt;"</span>;</span><br><span class="line">            showPath(m_paths[i][j],j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showAllPaths</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m_vexNum;++i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;m_vexNum;++j)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;m_vex[i]&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;m_vex[j]&lt;&lt;<span class="string">" "</span>&lt;&lt;m_shorts[i][j]&lt;&lt;<span class="string">" shortest path is: "</span>;</span><br><span class="line">                showPath(i,j);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_arcs;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; m_vex;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; m_falgs;</span><br><span class="line">    <span class="keyword">int</span> m_vexNum;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_paths;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; m_shorts;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; nodes=&#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>&#125;;</span><br><span class="line">    <span class="function">Graph <span class="title">g</span><span class="params">(nodes)</span></span>;</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">5</span>,<span class="number">16</span>);</span><br><span class="line">    g.addEdge(<span class="number">0</span>,<span class="number">6</span>,<span class="number">14</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>);</span><br><span class="line">    g.addEdge(<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>);</span><br><span class="line">    g.addEdge(<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line">    g.addEdge(<span class="number">6</span>,<span class="number">4</span>,<span class="number">8</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">    g.addEdge(<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">    g.addEdge(<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    g.dijkstraAll();</span><br><span class="line">    g.showAllPaths();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>result</p>
<p><img src="https://upload-images.jianshu.io/upload_images/13348038-6d01f1034ce622f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/15/Dijkstra/" data-id="cka7pna3m0000nwv6dfzg9bdz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/05/15/Insertion-Sort/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Insertion Sort</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Introduce-To-Algorithm/" rel="tag">Introduce To Algorithm</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Data-Structure/" style="font-size: 10px;">Data Structure</a> <a href="/tags/Introduce-To-Algorithm/" style="font-size: 20px;">Introduce To Algorithm</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/15/Dijkstra/">Dijkstra</a>
          </li>
        
          <li>
            <a href="/2020/05/15/Insertion-Sort/">Insertion Sort</a>
          </li>
        
          <li>
            <a href="/2020/05/15/Selection-Sort/">Selection Sort</a>
          </li>
        
          <li>
            <a href="/2020/05/15/Merge-Sort/">Merge Sort</a>
          </li>
        
          <li>
            <a href="/2020/05/15/Bubble-Sort/">Bubble Sort</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 BeeCaffe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>